<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Unity|Unity Attribute 标签 - Kesa</title>
    <meta property="og:title" content="Unity|Unity Attribute 标签 - Kesa">
    
    <meta name="twitter:card" content="summary">

    
      
    

    <meta property="description" content="从头开始 从新开始">

    
    
    
    

    
      
      <meta property="description" content="一开始我真的是想全部总结一下的
但是我慢慢发现这个Attribute是没完没了的
既然它开放了自定义的方式
那么各种插件(例如Hierarchy2)和各种库都可以自定义一大堆
没有什么固定的
所以这里中途只打算记一些常用且重要的
很多没什么普遍价值的Attribute我就Pass了
修改记录:
- 180922: - 调整整体Attribute顺序,整体合并,并且按照字母排序 - 加入新 &amp;hellip;">
      <meta property="og:description" content="一开始我真的是想全部总结一下的
但是我慢慢发现这个Attribute是没完没了的
既然它开放了自定义的方式
那么各种插件(例如Hierarchy2)和各种库都可以自定义一大堆
没有什么固定的
所以这里中途只打算记一些常用且重要的
很多没什么普遍价值的Attribute我就Pass了
修改记录:
- 180922: - 调整整体Attribute顺序,整体合并,并且按照字母排序 - 加入新 &amp;hellip;">
      
    

    
    

    

    
    


<link href='//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  
  <body class="post">
    <header class="masthead">
      <h1><a href="/">Kesa</a></h1>

<p class="tagline">从头开始 从新开始</p>


      <nav class="menu">
  <input id="menu-check" type="checkbox" />
  <label id="menu-label" for="menu-check" class="unselectable">
    <span class="icon close-icon">✕</span>
    <span class="icon open-icon">☰</span>
    <span class="text">Menu</span>
  </label>
  <ul>
  
  
  <li><a href="/about/">About</a></li>
  
  <li><a href="/booklist/">BookList</a></li>
  
  <li><a href="/movielist/">MovieList</a></li>
  
  <li><a href="/vocabulary/">Vocabulary</a></li>
  
  <li><a href="/idiomslist/">成语</a></li>
  
  <li><a href="/recents/">Recents</a></li>
  
  <li><a href="/tags/">Tags</a></li>
  
  <li><a href="/categories/">Categories </a></li>
  
  <li><a href="/categories/generalskill">GeneralSkill</a></li>
  
  <li><a href="/categories/unityskill">UnitySkill</a></li>
  
  <li><a href="/categories/artsdome">Artsdome</a></li>
  
  <li><a href="/categories/talkthought">Talk&amp;Thought</a></li>
  
  <li><a href="/categories/to-be-continued">To Be Continued</a></li>
  
  
  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>Unity|Unity Attribute 标签</h1>

<h3>Kesa
  /  2018-08-25</h3>
<hr>


      </header>





<h2 id="根据attribute首字母查看">根据Attribute首字母查看</h2>

<p>一开始我真的是想全部总结一下的<br />
但是我慢慢发现这个Attribute是没完没了的<br />
既然它开放了自定义的方式<br />
那么各种插件(例如Hierarchy2)和各种库都可以自定义一大堆<br />
没有什么固定的<br />
所以这里中途只打算记一些常用且重要的<br />
很多没什么普遍价值的Attribute我就Pass了<br />
修改记录:</p>

<pre><code>- 180922:
    - 调整整体Attribute顺序,整体合并,并且按照字母排序
    - 加入新的Attribute : Serialiable
    - 将前言修改为参考声明并移到文后
</code></pre>

<h2 id="内置attribute">内置Attribute</h2>

<h2 id="unityengine-attribute">UnityEngine Attribute</h2>

<p>注:截止到Unity Script2018.2版本的所有其他内置Attribute:</p>

<h3 id="addcomponentmenu">AddComponentMenu:</h3>

<p>这个应该是各个插件脚本经常使用的<br />
就是在Unity Editor的菜单里的Component选项卡里直接加选项<br />
一定程度上让你自定义一个路径<br />
以分类脚本并且简化脚本的添加<br />
尝试时直接在已有脚本类下添加失败   不知道是不是只能在正确的第一个类下起作用</p>

<pre><code class="language-C#">[AddComponentMenu(&quot;Transform/Follow Transform&quot;)]
public class XJB001 : MonoBehaviour
{...}
</code></pre>

<p><img src="/post/2018-08-25-unity-unity-attribute_files/2831536100686_.pic.jpg" alt="" /></p>

<h3 id="assemblyiseditorassembly">AssemblyIsEditorAssembly:</h3>

<pre><code class="language-C#">没啥用:汇编级属性。任何类在组装这个属性将被认为是编辑器类
</code></pre>

<h3 id="beforerenderorder">BeforeRenderOrder:</h3>

<pre><code>搞不懂
</code></pre>

<h4 id="createassetmenuattribute">CreateAssetMenuAttribute</h4>

<p>这个在大神的链接里加了重点<br />
应该是一个比较有意义的东西<br />
但是很可惜这个需要比较Nb的内容作为玩法 目前我还把握不好</p>

<pre><code class="language-C#">//用于创建自定义的ScriptableObject，具体为.asset 资源(是YAML)
//支持在 Asset/Create/xx，也支持在 工程视图右键
//同名的资源，会自动更改名称
[CreateAssetMenu(fileName = &quot;skill&quot;, menuName = &quot;skill Data&quot;, order = 1)]
public class MyAsset : ScriptableObject
{
   public float we0 = Single.MaxValue;
   public float we1 = Single.MaxValue;
   public float we2 = Single.MaxValue;
   public float we3 = Single.MaxValue;
}
</code></pre>

<h3 id="colorusage-bool-alpha-bool-hdr">ColorUsage(bool alpha,bool hdr)</h3>

<p>颜色轮盘,专门给颜色用的<br />
自己玩了玩,很简单就不上图了<br />
第一个true是Alpha,第二个是HDR<br />
HDR不太懂感觉用不到,细节见<a href="https://blog.csdn.net/douniwan007009/article/details/79475976">参考链接6</a><br />
大神说的HDR参数很详细</p>

<h3 id="contextmenu">ContextMenu</h3>

<p>看到<a href="https://blog.csdn.net/douniwan007009/article/details/79475976">参考链接6</a>大神写的就懂了一半,再看UnityScript就知道了<br />
大神提醒://为组件 Inspector中的 Context menu 添加命令（函数），注意函数只能是“非静态函数”</p>

<pre><code class="language-C#">    /// Add a context menu named &quot;Do Something&quot; in the inspector
    /// of the attached script.
    [ContextMenu(&quot;Do Something&quot;)]
    void DoSomething()
    {
        Debug.Log(&quot;Perform operation&quot;);
    }
</code></pre>

<p><img src="/post/2018-08-25-unity-unity-attribute_files/WechatIMG284.png" alt="" /></p>

<h4 id="contextmenuitemattribute-string-菜单名-string-反射函数名">ContextMenuItemAttribute(string 菜单名,string 反射函数名)</h4>

<p><a href="https://blog.csdn.net/douniwan007009/article/details/79475976">参考链接6</a>大神给的基本意思就是了</p>

<pre><code class="language-C#">  //给组件Inspector中的某个属性，添加右键操作（函数），注意该函数是 非静态函数
    [ContextMenuItem(&quot;Reset&quot;, nameof(ResetBiography))] [Multiline(8)]
    public string PlayerBiography = &quot;&quot;;

    void ResetBiography()
    {
        PlayerBiography = &quot;请输入&quot;;
    }
</code></pre>

<p>意义是:在Inspector右键指定变量<br />
可以看到</p>

<h3 id="customgridbrush">CustomGridBrush:</h3>

<pre><code>搞不懂
</code></pre>

<h3 id="delayed">Delayed:</h3>

<pre><code>大神说没用
</code></pre>

<h3 id="disallowmultiplecomponent">DisallowMultipleComponent:</h3>

<pre><code>防止重复添加相同的类(或子类) - 在脚本类声明前面加 
下面是再次添加相同脚本的Warning
</code></pre>

<p><img src="/post/2018-08-25-unity-unity-attribute_files/2861536146597_.pic.jpg" alt="" /></p>

<h3 id="excludefromobjectfactoryattribute">ExcludeFromObjectFactoryAttribute:</h3>

<h3 id="excludefrompresetattribute">ExcludeFromPresetAttribute:</h3>

<h4 id="executeineditmode">ExecuteInEditMode</h4>

<p>[ExecuteInEditMode] Action<br />
在非播放情况下依然可以运行的Attribute<br />
对类操作有效 观察到在Update里的函数一般只执行1到2次<br />
应该是以改变静态状态为主的 对Update的调用有限制<br />
大神也发现了这个问题:</p>

<pre><code class="language-C#">//放在类定义之前，使脚本实例在编辑模式也会运行
//默认情况下，MonoBehaviour只会在play mode执行，（全部还是部分回调函数？）

// the functions are not called constantly like they are in play mode
//Awake ：载入新场景时
//Update：场景中某个东西发生变化时（不一定要这个附加脚本的对象，对吧。。。）
//OnGUI : Game View 接收到一个事件（Event）时调用
//OnRenderObject 及其他 rendering callback ：scene view 或 game view的每一次重绘都会调用

[ExecuteInEditMode]
public class Test : MonoBehaviour { }
</code></pre>

<h4 id="formerlyserializedas-xxx">FormerlySerializedAs(&ldquo;XXX&rdquo;)</h4>

<p>这个应该是一个新版的Attribute<br />
以往在代码里把Public或者[Serialable]了的变量改名的话<br />
一保存出来发现原来好不容易拖进去的值就没了</p>

<p>这个Attitude:<br />
非常好用,在不更改Inspection面板里直接引用的情况下<br />
可以给代码里的变量改名字<br />
对于一个看到Rider里飘黄就忍受不了的我来说太鸡儿有用了<br />
使用方法就是吧&rdquo;xxx&rdquo;填成原来的旧的变量名<br />
一般都是你改名字Rider自动给你搞出来的</p>

<h3 id="guitarget">GUITarget:</h3>

<pre><code>没什么用的Attribute
大神没搞懂我搞懂了(看来大神也不是万能的)
这个是控制GUI出现的display上
没有图是没有意义的
GUITarget(1)表示在第二个display上显示
括号里用逗号隔开表示多选display 
窗口里的数字 +1 才是 display 的编号(程序员常识)
</code></pre>

<p><img src="/post/2018-08-25-unity-unity-attribute_files/2911536281954_.pic.jpg" alt="" /><br />
<img src="/post/2018-08-25-unity-unity-attribute_files/2901536281952_.pic.jpg" alt="" />
<img src="/post/2018-08-25-unity-unity-attribute_files/2891536281950_.pic.jpg" alt="" /></p>

<h3 id="header">Header:</h3>

<pre><code class="language-C#">//给变量上方加一个黑体加粗的标题
//作用相当于区分Inspector里面的区块
//对于我这个代码强迫症来说还是十分有用的
[Header(&quot;Health Settings&quot;)] 
    public int health  = 0;
    public int health2 = 0;
    public int health4 = 0;
</code></pre>

<p><img src="/post/2018-08-25-unity-unity-attribute_files/2851536146503_.pic.jpg" alt="" /></p>

<h3 id="helpurlattribute">HelpURLAttribute:</h3>

<pre><code class="language-C#">放在类名前 设置类名(脚本类)旁边的小问号书本点击后的跳转URL  
没卵用

HelpURL(string url)
</code></pre>

<h3 id="hideininspector">HideInInspector:</h3>

<pre><code>不在Inspector中显示变量
</code></pre>

<h3 id="imageeffectafterscale">ImageEffectAfterScale:</h3>

<pre><code>Shader部分 目前没有能力做
</code></pre>

<h3 id="imageeffectallowedinsceneview">ImageEffectAllowedInSceneView:</h3>

<pre><code>Shader部分 目前没有能力做
</code></pre>

<h3 id="imageeffectopaque">ImageEffectOpaque:</h3>

<pre><code>Shader部分 目前没有能力做
</code></pre>

<h3 id="imageeffecttransformstoldr">ImageEffectTransformsToLDR:</h3>

<pre><code>Shader部分 目前没有能力做
</code></pre>

<h3 id="multiline">Multiline:</h3>

<pre><code>多行文本输入,类似于TestAera那个Attribute  
但是它不能通过滚轮上下查看 只能用上下两个键移动不能系那是的行
以后统一用TestAera比较好咯
</code></pre>

<p><img src="/post/2018-08-25-unity-unity-attribute_files/2871536147437_.pic.jpg" alt="" /></p>

<h3 id="preferbinaryserialization">PreferBinarySerialization:</h3>

<h3 id="propertyattribute">PropertyAttribute:</h3>

<h4 id="range">Range</h4>

<p>效果应该是</p>

<pre><code class="language-C#">//用Range_Attribute测试 : 只支持int 和 float(足够了)
[Range(1, 8)] [SerializeField] private float length; 
</code></pre>

<p><img src="/post/2018-08-25-unity-unity-attribute_files/WX20180905-061516@2x.png" alt="" /></p>

<h4 id="requirecomponent">RequireComponent:</h4>

<p>放在类前,检查是否有这个组件,没有则自动添加:</p>

<pre><code>[RequireComponent(typeof(ComponetName))]
不要忘记有 typeof 这个关键词
我个人至少在搭建UI框架时看到这个东西次数很多
也许会了使用 很方便

UnityScript里面说:
这个东西只有在这个脚本文件添加到物体上的那一瞬间才有用
当这个脚本已经挂载但是需要的Component丢失没了那就没招了
</code></pre>

<h3 id="rpc">RPC:</h3>

<pre><code>过时不用
</code></pre>

<h4 id="runtimeinitializeonloadmethod">RuntimeInitializeOnLoadMethod:</h4>

<p>from大神:</p>

<pre><code class="language-C#">在游戏加载的时候，允许一个运行时类方法（静态方法）被初始化，不需要用户调用
游戏加载之后，所有Awake之后，Start之前，标记了 [RuntimeInitializeOnLoadMethod] 的方法会被 invoked

注意：
Awake、Start、Update之类的方法不能标记 [RuntimeInitializeOnLoadMethod]
必须是静态方法才会调用
这些静态方法，不一定要在继承MonoBehaviour的类中

class MyClass
{
    [RuntimeInitializeOnLoadMethod]
    static void OnRuntimeMethodLoad()
    {
        Debug.Log(&quot;After scene is loaded and game is running&quot;);
    }

    [RuntimeInitializeOnLoadMethod]
    static void OnSecondRuntimeMethodLoad()
    {
        Debug.Log(&quot;SecondMethod After scene is loaded and game is running.&quot;);
    }
}
</code></pre>

<h3 id="selectionbase">SelectionBase:</h3>

<pre><code>这个是直接看UnityScript里看出来的
效果是在Scene中
第一次点击子物体也会指向有此Attribute的脚本的父物体
应该是给一些子物体很多很零散但是需要直接操作父物体的物体用

更有趣的是这个玩意儿
在按F后不是按照往常的视角中心跑到物体中心点那里去
而是视角中心跑到了群体拟合后的中心点去
挺有意思的
不过这种冷知识并没有什么卵用
</code></pre>

<h3 id="serializable">Serializable</h3>

<pre><code class="language-C#">来自[链接2]
针对类的Attribute
可以让子类（继承类）的变量属性显示在检视面板中，也能序列化它。
这个标签要加载要序列化对象的类上
而不是像SerializeField那样放在对象声明处

//1.希望显示在检视面板上的类
[System.Serializable]
public class SerializableTest
{
    public int p = 5;
    public Color c = Color.white;
}

//2.控制其显示(Public)的逻辑
public class SerializableTest2 : MonoBehaviour
{
    public SerializableTest test;
}

这玩意儿还有相应的NonSerializable
就不写出来了
</code></pre>

<h3 id="serializefield">SerializeField:</h3>

<pre><code>天天用 不说了 序列化在Inspector中可视
针对变量的Attribute
</code></pre>

<h3 id="sharedbetweenanimatorsattribute-7">SharedBetweenAnimatorsAttribute:<sup class="footnote-ref" id="fnref:7"><a rel="footnote" href="#fn:7">1</a></sup></h3>

<pre><code>涉及到State Machine Behavior这个大块儿
让我意识到Unity对于Scene中的物体的控制用的是MonoBehavior
但是还有很多其他非物体的东西也需要控制
于是对于State Machine用的是这个
我还发现了有PlayableBehavior等等
看来Unity还是很牛逼的

这个点现在我用不到也没有精力去做
之后我觉得可以交给某个人去做出来
</code></pre>

<h3 id="space">Space:</h3>

<pre><code class="language-C#">这个东西牛逼了
打上它[Space(int pixels)]是制造一个在Inspector上的间隔
下面是[Space(232)]的威力
</code></pre>

<p><img src="/post/2018-08-25-unity-unity-attribute_files/2931536306657_.pic.jpg" alt="" /></p>

<h3 id="textarea">TextArea:</h3>

<pre><code class="language-C#">//两个值,最小值是默认行数,最大值是最多展示行数,超过有Bar控制上下显示
[TextArea(2, 3)] //使用文本域 在 inspector里面  能自动换行
public string a1 = &quot;sdf&quot;;
</code></pre>

<h3 id="tooltip">Tooltip:</h3>

<pre><code class="language-C#">[Tooltip(&quot;这里应该是一个提示的样子&quot;)] //放在变量名处会有提示
public string a2 = &quot;sdf&quot;;
</code></pre>

<h3 id="unityapicompatibilityversion">UnityAPICompatibilityVersion:</h3>

<pre><code class="language-C#">这是个兼容性的UnityApi的Attribute 
不用怎么关注
</code></pre>

<h2 id="unityeditor-attribute">UnityEditor Attribute</h2>

<p>暂无整理意愿 : 用不到</p>

<h2 id="自定义attribute">自定义Attribute</h2>

<p>暂无整理意愿 : 用不到</p>

<h2 id="总个结">总个结</h2>

<p>只做了Unity Engine部分<br />
Unity Editor 和 自定义 Attribute没有动<br />
而且Unity Engine中包括Image相关的一些和好多用处局限的过时的都没做清楚<br />
算是<br />
将就写完了<br />
本以为是2个小时搞定的小事<br />
结果搞了快2个星期之久<br />
也是没有想到的事情<br />
一方面是自己的知识结构还是有问题<br />
一方面是自己还是强迫症再身不愿意做的很将就<br />
得改吧</p>

<h2 id="参考声明">参考声明</h2>

<blockquote>
<p>Attributes are markers that can be placed above a class, property or function in a script to indicate special behaviour.</p>
</blockquote>

<p>我在Unity Manual里怎么找也只有这一个页面,并没有详细的Attribute的使用说明,经过我反复在网上找到另一些文档才有了着落:</p>

<blockquote>
<p><strong>References:</strong><br />
<a href="https://www.cnblogs.com/alan777/p/6139802.html">Attribute是C#的语言特性</a><sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">2</a></sup><br />
<a href="http://blog.sina.com.cn/s/blog_5b6cb9500101857b.html">Unity3d中的Attributes整理</a><sup class="footnote-ref" id="fnref:2"><a rel="footnote" href="#fn:2">3</a></sup><br />
<a href="https://unity3d.com/cn/learn/tutorials/topics/scripting/attributes">Untiy Tutorial: Attributes</a><sup class="footnote-ref" id="fnref:3"><a rel="footnote" href="#fn:3">4</a></sup><br />
<a href="https://docs.unity3d.com/ScriptReference/30_search.html?q=Attribute">Unity ScriptAPI</a><sup class="footnote-ref" id="fnref:4"><a rel="footnote" href="#fn:4">5</a></sup><br />
<a href="https://blog.csdn.net/u013300329/article/details/45701193">Unity3D 的一些Attribute (一些是5.0旧的API)</a><sup class="footnote-ref" id="fnref:5"><a rel="footnote" href="#fn:5">6</a></sup><br />
<a href="https://blog.csdn.net/douniwan007009/article/details/79475976">UnityEngine、UnityEditor中的所有 Attributes</a><sup class="footnote-ref" id="fnref:6"><a rel="footnote" href="#fn:6">7</a></sup></p>
</blockquote>

<p>据<a href="https://www.cnblogs.com/alan777/p/6139802.html">参考链接1</a>内容和我自己的所见<br />
Attribute是可以自定义的<br />
即可以分为内置Attribute和自定义Attribute两部分<br />
本文操作:</p>

<ul>
<li>列一下我自己认为比较有意义的一些内置Attribute<br /></li>
<li>写一下自定义Attribute的做法</li>
</ul>
<div class="footnotes">

<hr />

<ol>
<li id="fn:7">之后交给谁呢&hellip;
 <a class="footnote-return" href="#fnref:7">↩</a></li>
<li id="fn:1"><a href="https://www.cnblogs.com/alan777/">Alan777</a>这个博客仅有6篇但是我已经从2篇中受益,实在感谢这位!
 <a class="footnote-return" href="#fnref:1">↩</a></li>
<li id="fn:2">这个整理相当的良心
 <a class="footnote-return" href="#fnref:2">↩</a></li>
<li id="fn:3">很老的Unity官方指引,居然还有JS和Boo的使用方法,令人咋舌
 <a class="footnote-return" href="#fnref:3">↩</a></li>
<li id="fn:4">我以为Unity_Script里什么都没有,我错了,里面什么都有,但是很多没有使用方法,得再找
 <a class="footnote-return" href="#fnref:4">↩</a></li>
<li id="fn:5">半路找到的,好像也引用了一些其他之前我看到的文章的内容
 <a class="footnote-return" href="#fnref:5">↩</a></li>
<li id="fn:6">得了,总算找到个什么都有的,我都写了不少了它才出现,哎&hellip;
 <a class="footnote-return" href="#fnref:6">↩</a></li>
</ol>
</div>


  <footer>
  
  



<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/tex.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">大把时间迷茫 几个瞬间成长</div>
  
  </footer>
  </article>
  
  </body>
</html>

