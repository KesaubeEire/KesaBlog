<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>æœªå®Œå¾…ç»­_CSharp|&lt;&lt;ç¼–å†™é«˜è´¨é‡C#ä»£ç å»ºè®®&gt;&gt;æç‚¼ - Kesa</title>
    <meta property="og:title" content="æœªå®Œå¾…ç»­_CSharp|&lt;&lt;ç¼–å†™é«˜è´¨é‡C#ä»£ç å»ºè®®&gt;&gt;æç‚¼ - Kesa">
    
    <meta name="twitter:card" content="summary">

    
      
    

    <meta property="description" content="ä»å¤´å¼€å§‹ ä»æ–°å¼€å§‹">

    
    
    
    

    
      
      <meta property="description" content="åœ¨çœ‹åˆ°å‡ æ¬¡ä½œè€…å°è¯•è°ƒè¯•ä»£ç æ¯”è¾ƒé€Ÿåº¦çš„æ—¶å€™
æˆ‘å¥½å¤šæ¬¡çœ‹åˆ°äº†
Stopwatch watch1 = Stopwatch.StartNew();  è¿™å¥è¯
æˆ‘æƒ³åˆ°å’Œæˆ‘æ—¥å¸¸ä¸­ç”¨çš„Time.DeltaTimeåº”è¯¥æ˜¯ä¸€ç±»ä¸œè¥¿
åªä¸è¿‡è¿™ä¸ªå¯èƒ½æ›´ä¾¿æ·æ›´è§„èŒƒ?
æˆ‘è‡ªå·±æƒ³çœ‹çœ‹åŸç 
ç„¶è€Œæˆ‘å‘ç°åœ¨Consoleä¸‹ç¼–ç¨‹æ ¹æœ¬æ²¡æœ‰Timeè¿™ä¸ªUnityä¸­å¸¸ç”¨åˆ°çš„ç±»
éš¾é“è¿™ä¸ªä¹Ÿæ˜¯UnityEngineé‡Œé¢çš„ä¸œè¥¿?
æ²¡é”™ Time &amp;hellip;">
      <meta property="og:description" content="åœ¨çœ‹åˆ°å‡ æ¬¡ä½œè€…å°è¯•è°ƒè¯•ä»£ç æ¯”è¾ƒé€Ÿåº¦çš„æ—¶å€™
æˆ‘å¥½å¤šæ¬¡çœ‹åˆ°äº†
Stopwatch watch1 = Stopwatch.StartNew();  è¿™å¥è¯
æˆ‘æƒ³åˆ°å’Œæˆ‘æ—¥å¸¸ä¸­ç”¨çš„Time.DeltaTimeåº”è¯¥æ˜¯ä¸€ç±»ä¸œè¥¿
åªä¸è¿‡è¿™ä¸ªå¯èƒ½æ›´ä¾¿æ·æ›´è§„èŒƒ?
æˆ‘è‡ªå·±æƒ³çœ‹çœ‹åŸç 
ç„¶è€Œæˆ‘å‘ç°åœ¨Consoleä¸‹ç¼–ç¨‹æ ¹æœ¬æ²¡æœ‰Timeè¿™ä¸ªUnityä¸­å¸¸ç”¨åˆ°çš„ç±»
éš¾é“è¿™ä¸ªä¹Ÿæ˜¯UnityEngineé‡Œé¢çš„ä¸œè¥¿?
æ²¡é”™ Time &amp;hellip;">
      
    

    
    

    

    
    


<link href='//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  
  <body class="post">
    <header class="masthead">
      <h1><a href="/">Kesa</a></h1>

<p class="tagline">ä»å¤´å¼€å§‹ ä»æ–°å¼€å§‹</p>


      <nav class="menu">
  <input id="menu-check" type="checkbox" />
  <label id="menu-label" for="menu-check" class="unselectable">
    <span class="icon close-icon">âœ•</span>
    <span class="icon open-icon">â˜°</span>
    <span class="text">Menu</span>
  </label>
  <ul>
  
  
  <li><a href="/about/">About</a></li>
  
  <li><a href="/booklist/">BookList</a></li>
  
  <li><a href="/movielist/">MovieList</a></li>
  
  <li><a href="/recents/">RecentsList</a></li>
  
  <li><a href="/idiomslist/">Chinese_Idiomlist</a></li>
  
  <li><a href="/phrases/">English_Phrases</a></li>
  
  <li><a href="/vocabulary/">English_Vocabulary</a></li>
  
  <li><a href="/categories/">Categories </a></li>
  
  <li><a href="/tags/">Tags</a></li>
  
  <li><a href="/categories/generalskill">GeneralSkill</a></li>
  
  <li><a href="/categories/unityskill">UnitySkill</a></li>
  
  <li><a href="/categories/artsdome">Artsdome</a></li>
  
  <li><a href="/categories/talkthought">Talk&amp;Thought</a></li>
  
  <li><a href="/categories/to-be-continued">To Be Continued</a></li>
  
  
  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>æœªå®Œå¾…ç»­_CSharp|&lt;&lt;ç¼–å†™é«˜è´¨é‡C#ä»£ç å»ºè®®&gt;&gt;æç‚¼</h1>

<h3>Kesa
  /  2018-09-01</h3>
<hr>


      </header>









<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
    MathJax.Hub.Config({
        tex2jax: {
            displayMath: [
                ['$$', '$$'],
                ["\\(", "\\)"]
            ],
            inlineMath: [
                ['\\[', '\\]'],
                ['$', '$'],
            ],
        },
    });
</script> 





<h2 id="æ€»ç»“">æ€»ç»“:</h2>

<ol>
<li>StopWatch å’Œ Time.DeltaTime çš„æ¯”è¾ƒ

<ol>
<li>äº†è§£StopWatchè¿™ä¸ªæ•°æ®ç±»å‹ä¹Ÿæ˜¯ç”¨æ¥åšæ—¶é•¿åˆ¤æ–­çš„</li>
<li>Stopwatch å’Œ DateTime å¯¹æ¯” : å…·ä½“ç”¨æ³•è§ä¸‹é¢çš„è¯¦æƒ…

<ol>
<li>StopWatchå°±æ˜¯ä¸ªè®¡æ—¶å™¨</li>
<li>DateTimeæ˜¯äº†è§£ä»å¹´æœˆæ—¥æ—¶åˆ†ç§’æ¯«ç§’çš„</li>
</ol></li>
</ol></li>
</ol>

<h3 id="stopwatch-å’Œ-time-deltatime-çš„æ¯”è¾ƒ">StopWatch å’Œ Time.DeltaTime çš„æ¯”è¾ƒ</h3>

<p>åœ¨çœ‹åˆ°å‡ æ¬¡ä½œè€…å°è¯•è°ƒè¯•ä»£ç æ¯”è¾ƒé€Ÿåº¦çš„æ—¶å€™<br />
æˆ‘å¥½å¤šæ¬¡çœ‹åˆ°äº†</p>

<pre><code class="language-c">Stopwatch watch1 = Stopwatch.StartNew();
</code></pre>

<p>è¿™å¥è¯<br />
æˆ‘æƒ³åˆ°å’Œæˆ‘æ—¥å¸¸ä¸­ç”¨çš„Time.DeltaTimeåº”è¯¥æ˜¯ä¸€ç±»ä¸œè¥¿<br />
åªä¸è¿‡è¿™ä¸ªå¯èƒ½æ›´ä¾¿æ·æ›´è§„èŒƒ?<br />
æˆ‘è‡ªå·±æƒ³çœ‹çœ‹åŸç <br />
ç„¶è€Œæˆ‘å‘ç°åœ¨Consoleä¸‹ç¼–ç¨‹æ ¹æœ¬æ²¡æœ‰Timeè¿™ä¸ªUnityä¸­å¸¸ç”¨åˆ°çš„ç±»<br />
éš¾é“è¿™ä¸ªä¹Ÿæ˜¯UnityEngineé‡Œé¢çš„ä¸œè¥¿?<br />
æ²¡é”™ Timeè¿™ä¸ªç±»çš„ç¡®æ˜¯UnityEngine NameSpaceä¸‹çš„<br />
ç„¶è€Œåˆæ˜¯åªè¯»æ‰€ä»¥ä¸èƒ½å¾ˆæ¸…æ¥šçš„çŸ¥é“åˆ°åº•æ˜¯ä¸æ˜¯å’ŒStopWatchæ˜¯ApiåŒæº<br />
å°±æ²¡åŠæ³•çŸ¥é“åˆ°åº•è‡ªå·±åœ¨Unityä¸­æ˜¯ä¸æ˜¯åº”è¯¥ç»§ç»­ç”¨Time.DeltaTime</p>

<p>ä¸è¿‡æ€»ä¹‹è¿˜æ˜¯å¾ˆå¥½åœ°å¯å‘äº†æˆ‘åº”è¯¥è¯•è¯•StopWatch<br />
è‡³å°‘æœä¸€æœå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«(ğŸš„ä¸Šæ²¡ç½‘æœ‰ç‚¹å°éš¾å—)</p>

<p><strong>&mdash;&mdash;&ndash;ä¸Šç½‘æ”¶è·&mdash;&mdash;&ndash;</strong><br />
æŸ¥äº†ä¸€ä¸‹å‘ç°æ²¡ä»€ä¹ˆè¿™ä¸¤ä¸ªä¸œè¥¿æœ‰è”ç³»çš„ç½‘é¡µ<br />
ä½†æ˜¯å†æ¬¡æé†’äº†æˆ‘ Time.DeltaTimeæŒ‡çš„æ˜¯æ¯å¸§çš„è¿è¡Œæ—¶é•¿<br />
Unityä¸­ä¹‹æ‰€ä»¥å¯ä»¥é€šè¿‡è¿™ç§æ–¹æ³•å®ç°æ—¶é—´è®¡ç®—<br />
æ˜¯å› ä¸ºé€šè¿‡æŠŠè¿è¡Œçš„æ¯å¸§çš„æ—¶é—´åŠ èµ·æ¥å¾—åˆ°çš„<br />
å’ŒçœŸå®çš„æ—¶é—´æ˜¯æœ‰åŒºåˆ«çš„<br />
è®¡ç®—å¯èƒ½å®Œæˆä½†æ˜¯æ¸²æŸ“ç­‰å…¶ä»–è®¡ç®—è€½è¯¯ç”»é¢å‘ˆç°ä»è€Œè®©å¾—åˆ°çš„æ—¶é—´å¾€å¾€æ¯”çœŸå®æ—¶é—´é•¿ä¸€äº›</p>

<p><strong>&mdash;&mdash;&ndash;æŠ˜äº†ä¸ªè…¾&mdash;&mdash;&ndash;</strong><br />
åæ¥åˆçœ‹åˆ°äº†DateTimeå’ŒStopWatchçš„äº‰è¾©<br />
å‘ç°è¿™ä¸ªäº‹æƒ…å¤§æœ‰å¯è¨€<br />
ä¾¿æäº†ä¸€é˜µå„¿</p>

<pre><code class="language-C#">using System;
using System.Diagnostics;
using System.Threading;

namespace TestInBook
{
    internal class Program
    {
        public static void Main(string[] args)
        {
//            StopTimeTest();
//            DateTimeTest();
            Thread thread1 = new Thread(DateTimeTest); //çº¿ç¨‹1ç®¡DT
            Thread thread2 = new Thread(StopTimeTest); //çº¿ç¨‹1ç®¡SW
            Thread thread3 = new Thread(Cal2MethodDiff); //çº¿ç¨‹3ç®¡DT-SW
            thread1.Start();
            thread2.Start();
            thread3.Start();
        }


        private static int _perTimeSw; //å¾ªç¯æ¬¡æ•°
        private static float _timeSw; //æ€»æ—¶é•¿
        private static float _aveTimeSw; //å¹³å‡æ—¶é•¿

        private static int _perTimeDt; //å¾ªç¯æ¬¡æ•°
        private static float _timeDt; //æ€»æ—¶é•¿
        private static float _aveTimeDt; //å¹³å‡æ—¶é•¿

        //StopWatchæ–¹æ³•è®¡æ—¶
        static void StopTimeTest()
        {
            while (true)
            {
                _perTimeSw++;
                Stopwatch sw = new Stopwatch();
                //å¼€å§‹è®¡æ—¶
                sw.Start();
                //100ms
                Thread.Sleep(100);
                //è®¡æ—¶ç»“æŸ
                sw.Stop();
                _timeSw += sw.ElapsedMilliseconds;
                _aveTimeSw = _timeSw / _perTimeSw;
//                Console.WriteLine($&quot;SWå¹³å‡è®¡é‡æ—¶é—´:{_aveTimeSw}&quot;);
//                Console.WriteLine(&quot;elpase time {0}, elapse ticks {1}&quot;, sw.ElapsedMilliseconds, sw.ElapsedTicks);
            }

            // ReSharper disable once FunctionNeverReturns
        }

        //DateTimeæ–¹æ³•è®¡æ—¶
        static void DateTimeTest()
        {
            while (true)
            {
                _perTimeDt++;
                //æ‰“å°æ—¶çš„æ—¶é—´æ ¼å¼
//                string dateFormat = &quot;yyyy-MM-dd HH:mm:ss.ffff&quot;;

                //å¼€å§‹çš„utc time
                DateTime startTime = DateTime.UtcNow;
                Thread.Sleep(100);

                //ç»“æŸçš„utc time
                DateTime endTime = DateTime.UtcNow;
//                Console.WriteLine(&quot;interval:{2},  start time:{0}, end time:{1}&quot;,
//                    startTime.ToString(dateFormat, CultureInfo.InvariantCulture),
//                    endTime.ToString(dateFormat, CultureInfo.InvariantCulture), (endTime - startTime).Milliseconds);
                _timeDt += (endTime - startTime).Milliseconds;
                _aveTimeDt = _timeDt / _perTimeDt;
//                Console.WriteLine($&quot;DTå¹³å‡è®¡é‡æ—¶é—´:{_aveTimeDt}&quot;);
            }

            // ReSharper disable once FunctionNeverReturns
        }

        //æ¯”è¾ƒäºŒè€…å¹³å‡æ—¶é—´
        private static void Cal2MethodDiff()
        {
            while (true)
            {
                Console.WriteLine($&quot;Dtæ¯”Swå¿«{_aveTimeDt - _aveTimeSw}&quot;);
            }
        }
    }
}
</code></pre>

<p>å¯¹æ¯”äº†ä¸€ä¸‹äºŒè€…çš„é€Ÿåº¦å·®å¼‚
å¹¶ä¸”è¿˜ç¬¬ä¸€æ¬¡æäº†æC#æœ‰å…³çº¿ç¨‹çš„æ“ä½œ<br />
(å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªåå°„ç›¸å…³çš„æ„Ÿè§‰)<br />
æ€»ä¹‹æ˜¯æå‡ºæ¥äº† å·®å¼‚ä¸æ˜¯å¾ˆå¤§
å¹³å‡å°±æ˜¯ä¸ª1æ¯«ç§’å·¦å³çš„å·®å¼‚&hellip;<br />
ä¸è¿‡è¯è¯´1æ¯«ç§’æ˜¯ä¸æ˜¯å¤Ÿå¤§äº†&hellip;
å®‰å•¦ æ¯•ç«Ÿæ˜¯ä¸åŒçº¿ç¨‹çº§åˆ«çš„æ“ä½œ<br />
æ§åˆ¶ä¸Šè‚¯å®šè¿˜æ˜¯æœ‰ä¸€äº›å…ˆåçš„ ç»™ç”µè„‘å¤šä¸€äº›æ—¶é—´å’¯&hellip;</p>

<h2 id="å‘½å-æ„æ¶-çš„è§„èŒƒ">å‘½å|æ„æ¶ çš„è§„èŒƒ</h2>

<p>æ ¹æ®æœ¬ä¹¦çš„ç›®å½•<br />
æˆ‘è®¡åˆ’é’ˆå¯¹æ¯ä¸€ä¸ªè®®é¢˜è¿›è¡Œé’ˆå¯¹çš„æ€»ç»“<br />
ä½†æ˜¯æ¯•ç«Ÿæˆ‘çš„é“è¡Œå¤ªæµ…<br />
å¾ˆå¤šé—®é¢˜è¦ä¹ˆæ²¡æœ‰è§è¿‡è¦ä¹ˆæ²¡æœ‰æ„è¯†åˆ°<br />
ç”šè‡³éƒ½æ²¡æœ‰å¬è¯´è¿‡<br />
å½“ç„¶åšä¸åˆ°æ¯ä¸€ä¸ªéƒ½èƒ½æœ‰æ‰€é¢†æ‚Ÿ<br />
åªèƒ½è¯´æ˜¯æ ¹æ®è‡ªå·±çš„æƒ…å†µæ¥</p>

<h2 id="æœ¬ä¹¦ä»‹ç»">æœ¬ä¹¦ä»‹ç»</h2>

<p>æœ¬ä¹¦çš„ä½œè€…æ˜¯é™†æ•æŠ€<br />
æ˜¯ä¸€ä¸ªæ²¡æœ‰å¬è¯´è¿‡çš„C#å¼€å‘è€…<br />
ä½†æ˜¯çœ‹åˆ°ä»–å¯¹C#å¼€å‘é—®é¢˜æ¶‰çŒçš„å¹¿åº¦å’Œæ·±åº¦<br />
æˆ‘å°±çŸ¥é“è¿™ç»å¯¹æ˜¯ä¸€ä¸ªOG<br />
è€Œä¸”æœ¬ä¹¦å†…å®¹è´¨é‡&amp;è¯šæ„ä¹‹é«˜<br />
å°±è¿æˆ‘ä¸€ä¸ªæ–°æ‰‹éƒ½èƒ½çœ‹å‡ºæ¥<br />
éå¸¸æ„ŸåŠ¨ æœ‰æœºä¼šæˆ‘ä¸€å®šå…¥æ‰‹å®ä½“ç‰ˆä¾›ä»¥è§‚ç»</p>

<h2 id="æ²¡æœ‰å¿ä½æˆ‘è¿˜æ˜¯æ–°å¼€äº†å‘">æ²¡æœ‰å¿ä½æˆ‘è¿˜æ˜¯æ–°å¼€äº†å‘</h2>

<p>ä½†æ˜¯è¿™æ¬¡æ¯•ç«Ÿå‘å¤ªå¤šäº†è¿™å‡ å¤©çš„å°å‡æœŸè‚¯å®šæ˜¯é­ä¸ä½çš„<br />
æ‰€ä»¥è¿™ä¸ªä½œä¸ºä¸€ä¸ªé•¿æœŸä½†æ˜¯æ¯”è¾ƒç¢ç‰‡åŒ–çš„é€”å¾„<br />
æ¯”å¦‚é«˜é“ä¸Š å°±éå¸¸åˆé€‚<br />
æ¯•ç«Ÿè¿™æœ¬ä¹¦ä¸æ˜¯ç³»ç»Ÿçš„ä»‹ç»æ–¹å¼ è€Œæ˜¯ä¹Ÿè¾ƒä¸ºé›¶ç¢çš„<br />
ååœ¨é«˜é“ä¸Š<br />
ä¾ç„¶æ²¡æœ‰äº†ä¸Šé«˜é“å‰å¯¹&rdquo;è®¡åˆ’çš„å¾ˆå¥½å¾ˆå¼€å¿ƒ&rdquo;çš„æƒ¦è®°<br />
åè€Œæ˜¯æ¯”è¾ƒæ‹˜æŸ æ¯”è¾ƒé—· ç”Ÿç†å¿ƒç†ä¸Šéƒ½æœ‰æŸç¼šæ„Ÿ<br />
ä¸€äº›é›¶ç¢çš„ä¸œè¥¿æ›´é€‚åˆè¿™ç§ç¯å¢ƒå§ å¯¹æˆ‘æ¥è¯´</p>


  <footer>
  
  



<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/tex.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">å¤§æŠŠæ—¶é—´è¿·èŒ« å‡ ä¸ªç¬é—´æˆé•¿</div>
  
  </footer>
  </article>
  
  </body>
</html>
